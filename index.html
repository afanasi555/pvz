<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plants vs Zombies</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            overflow: hidden;
            background-color: #f0f0f0;
        }
        canvas {
            display: block;
            margin: 0 auto;
            background-image: url('https://github.com/afanasi555/pvz/blob/main/assets/res/lawnmower/lawnmower.png');
            background-size: cover;
        }
        .status-bar {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            text-align: center;
            padding: 10px;
        }
        .status-bar div {
            margin: 5px;
        }
        .button {
            background-color: #4CAF50;
            border: none;
            color: white;
            padding: 15px 32px;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            font-size: 16px;
            margin: 4px 2px;
            cursor: pointer;
        }
        .shop {
            position: absolute;
            top: 50px;
            right: 20px;
            width: 200px;
            background: #fff;
            border: 1px solid #ccc;
            padding: 10px;
            display: none;
        }
        .shop img {
            width: 80px;
            height: 80px;
        }
        .level-bar {
            position: fixed;
            bottom: 0;
            left: 0;
            width: 100%;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            text-align: center;
            padding: 10px;
        }
        .shop .close {
            cursor: pointer;
            font-size: 20px;
            float: right;
        }
    </style>
</head>
<body>
    <div class="status-bar">
        <div id="coins">Coins: 50</div>
        <div id="suns">Suns: 0</div>
        <div id="lawnmower">Lawnmower Status: Idle</div>
    </div>
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <div class="level-bar">
        Level: <span id="level">1</span> | Zombies Left: <span id="zombiesLeft">0</span>
    </div>
    <div class="shop" id="shop">
        <span class="close" onclick="closeShop()">Ã—</span>
        <div id="plantList"></div>
        <button class="button" onclick="openShop()">Open Shop</button>
    </div>
    <script>
        const canvas = document.getElementById('gameCanvas');
        const ctx = canvas.getContext('2d');

        const SUN_COST = 50;
        const LEVEL_UP_COST = 10;
        let suns = 0;
        let coins = 50;
        let level = 1;
        let zombiesLeft = 0;

        const plants = {
            sunflower: { cost: 50, imageUrl: 'https://github.com/afanasi555/pvz/blob/main/assets/res/normal/sunflower1.png' },
            peashooter: { cost: 100, imageUrl: 'https://github.com/afanasi555/pvz/blob/main/assets/res/normal/Peashooter1.png' },
            // Add other plants here
        };

        function updateStatus() {
            document.getElementById('coins').innerText = `Coins: ${coins}`;
            document.getElementById('suns').innerText = `Suns: ${suns}`;
            document.getElementById('level').innerText = level;
            document.getElementById('zombiesLeft').innerText = zombiesLeft;
        }

        function openShop() {
            document.getElementById('shop').style.display = 'block';
            renderShop();
        }

        function closeShop() {
            document.getElementById('shop').style.display = 'none';
        }

        function renderShop() {
            const plantList = document.getElementById('plantList');
            plantList.innerHTML = '';
            for (const [name, plant] of Object.entries(plants)) {
                const plantDiv = document.createElement('div');
                plantDiv.style.marginBottom = '10px';
                plantDiv.innerHTML = `
                    <img src="${plant.imageUrl}" alt="${name}">
                    <div>${name} - ${plant.cost} suns</div>
                    <button class="button" onclick="buyPlant('${name}')">Buy ${name}</button>
                `;
                plantList.appendChild(plantDiv);
            }
        }

        function buyPlant(name) {
            if (suns >= plants[name].cost) {
                suns -= plants[name].cost;
                // Add logic to place plant on the field
                alert(`Bought ${name}`);
            } else {
                alert('Not enough suns!');
            }
        }

        function gameLoop() {
            // Your game loop logic here
            requestAnimationFrame(gameLoop);
        }

        // Initial Setup
        updateStatus();
        gameLoop();
    </script>
</body>
</html>
